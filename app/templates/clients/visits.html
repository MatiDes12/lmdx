{% extends 'clients/base.html' %}
{% block navbar %}
    {% include 'clients/navbar.html' %}
{% endblock %}
{% block content %}

<div class="px-6 py-4 bg-gray-100 min-h-screen">
    <!-- Header Section -->
    <div class="bg-gradient-to-r from-blue-600 to-purple-600 p-6 rounded-xl shadow-lg mb-8 text-white">
        <h1 class="text-3xl font-bold mb-2">Visit Summary</h1>
        <p class="text-lg">Review the details and outcomes of your recent doctor's visits</p>
    </div>

    <!-- Visit Timeline -->
    <div class="bg-white p-6 rounded-xl shadow-lg mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-500">Visit Timeline</h2>
        <div class="relative">
            {% if visits %}
                {% for visit in visits %}
                    <div class="mb-8 flex items-center">
                        <div class="flex flex-col items-center mr-4">
                            <div class="rounded-full h-12 w-12 flex items-center justify-center bg-blue-500 text-white font-semibold text-lg -z-100">
                                {{ visit.date.strftime('%d') }}
                            </div>
                            <div class="text-sm text-gray-500 mt-1">{{ visit.date.strftime('%b %Y') }}</div>
                        </div>
                        <div class="bg-gray-100 p-4 rounded-lg flex-grow shadow-md">
                            <h3 class="font-semibold text-lg mb-2">{{ visit.doctor_name }}</h3>
                            <p class="text-gray-700 mb-2">{{ visit.summary }}</p>
                            <p class="text-sm text-blue-600 font-medium">Next Steps: {{ visit.next_steps }}</p>
                            <button class="mt-2 bg-blue-500 text-white px-4 py-2 rounded-full text-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 focus:ring-opacity-50 transition duration-300 ease-in-out">
                                View Details
                            </button>
                        </div>
                    </div>
                {% endfor %}
                <!-- <div class="absolute top-0 bottom-0 left-6 w-0.5 bg-gray-300"></div> -->
            {% else %}
                <div class="flex flex-col items-center justify-center py-12">
                    <svg class="w-16 h-16 text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
                    </svg>
                    <p class="text-gray-500 text-lg">No visits found. Please check back later.</p>
                </div>
            {% endif %}
        </div>
    </div>

<!-- Latest Visit Details -->
<div class="bg-white p-6 rounded-xl shadow-lg mb-8">
    <h2 class="text-2xl font-semibold mb-6 text-gray-500">Latest Visit Details</h2>
    {% if latest_visit %}
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Symptoms Discussed -->
            <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
                <div class="flex items-center mb-4 bg-gradient-to-r from-blue-600 to-purple-600 p-1 rounded-xl shadow-lg text-white">
                    <div class="w-12 h-12 text-white-500 flex items-center justify-center mr-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M24 13C26.4853 13 28.5 10.9853 28.5 8.5C28.5 6.01472 26.4853 4 24 4C21.5147 4 19.5 6.01472 19.5 8.5C19.5 10.9853 21.5147 13 24 13ZM26.5 8.5C26.5 9.88071 25.3807 11 24 11C22.6193 11 21.5 9.88071 21.5 8.5C21.5 7.11929 22.6193 6 24 6C25.3807 6 26.5 7.11929 26.5 8.5Z" fill="currentColor"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 21H14.3542C15.0593 21.6224 15.9856 22 17 22C17.1693 22 17.3362 21.9895 17.5 21.9691V25.9882L17.5 25.9954L17.4999 28.9158C17.4884 28.9813 17.4622 29.1116 17.4065 29.3222C17.31 29.6867 17.1604 30.164 16.9619 30.7374C16.6855 31.5359 16.3387 32.4512 15.9647 33.3947C15.4168 34.0325 15.0664 34.8448 15.0085 35.7369C14.6202 36.6649 14.2511 37.5229 13.9526 38.2085C13.7447 38.6857 13.5717 39.0778 13.4511 39.3498C13.1697 39.984 12.9717 40.7566 13.0797 41.5327C13.1946 42.3592 13.6496 43.1117 14.5104 43.6041C15.8512 44.371 17.5552 43.9945 18.448 42.7341L19.948 40.6164C19.9889 40.5588 20.0277 40.4997 20.0643 40.4393L20.51 39.7052C21.9706 39.1093 23 37.6749 23 36C23 35.8758 22.9943 35.7529 22.9833 35.6316L24.2499 33.5453L28.4356 40.4393C28.4722 40.4996 28.511 40.5587 28.5519 40.6164L30.0519 42.7341C30.9447 43.9945 32.6487 44.371 33.9895 43.6041C34.8503 43.1117 35.3052 42.3592 35.4202 41.5327C35.5281 40.7566 35.3302 39.984 35.0488 39.3498C34.9282 39.0778 34.7552 38.6857 34.5473 38.2085C34.131 37.2524 33.5779 35.9618 33.0266 34.6141C32.4723 33.2592 31.9335 31.88 31.538 30.7374C31.3395 30.164 31.1899 29.6867 31.0934 29.3222L31.0766 29.2578V26.1898C32.2395 25.3762 33 24.0269 33 22.5C33 21.974 32.9098 21.4692 32.7439 21H36C37.6569 21 39 19.6569 39 18C39 16.3431 37.6569 15 36 15H19.6458C18.9407 14.3776 18.0144 14 17 14C15.9856 14 15.0593 14.3776 14.3542 15H12C10.3431 15 9 16.3431 9 18C9 19.6569 10.3431 21 12 21ZM13.126 17H12C11.4477 17 11 17.4477 11 18C11 18.5523 11.4477 19 12 19H13.126C13.0438 18.6804 13 18.3453 13 18C13 17.6547 13.0438 17.3196 13.126 17ZM19.5 25.9928V21.1227C20.4145 20.3896 21 19.2632 21 18C21 17.6547 20.9562 17.3196 20.874 17H36C36.5523 17 37 17.4477 37 18C37 18.5523 36.5523 19 36 19H31.3287C30.5558 18.3746 29.5716 18 28.5 18C26.0147 18 24 20.0147 24 22.5C24 24.9853 26.0147 27 28.5 27C28.6954 27 28.8878 26.9875 29.0766 26.9634V29.3797C29.0766 29.458 29.0858 29.5361 29.104 29.6122C29.12 29.6789 29.1385 29.7526 29.16 29.834C29.2742 30.2654 29.4413 30.7943 29.6481 31.3916C30.0611 32.585 30.6157 34.0031 31.1755 35.3714C31.7343 36.7373 32.2936 38.0425 32.7137 39.007C32.9236 39.489 33.0984 39.8853 33.2207 40.1609C33.4125 40.5933 33.4782 40.9767 33.4392 41.2572C33.4072 41.4872 33.3047 41.6917 32.9965 41.868C32.5495 42.1237 31.9815 41.9982 31.6839 41.578L30.1839 39.4603C30.1703 39.4412 30.1574 39.4215 30.1452 39.4013L25.1047 31.0995C24.9234 30.8008 24.5993 30.6184 24.2499 30.6184C23.9005 30.6184 23.5765 30.8008 23.3952 31.0995L22.0155 33.3718C21.2822 32.5312 20.2031 32 19 32C18.8753 32 18.7519 32.0057 18.6301 32.0169C18.7076 31.803 18.7817 31.5941 18.8518 31.3916C19.0586 30.7943 19.2257 30.2654 19.3399 29.834C19.4284 29.4996 19.4649 29.2967 19.4808 29.1955C19.4934 29.1323 19.4999 29.0669 19.4999 29V26L19.5 25.9928ZM15.7862 39.007C15.8424 38.8779 15.9012 38.7427 15.962 38.6021C16.4914 39.2197 17.2059 39.6739 18.0195 39.8789L16.816 41.578C16.5184 41.9982 15.9504 42.1237 15.5034 41.868C15.1951 41.6917 15.0926 41.4872 15.0606 41.2572C15.0216 40.9768 15.0873 40.5934 15.2792 40.1609C15.4015 39.8853 15.5763 39.489 15.7862 39.007ZM17 20C18.1046 20 19 19.1046 19 18C19 16.8954 18.1046 16 17 16C15.8954 16 15 16.8954 15 18C15 19.1046 15.8954 20 17 20ZM28.5 25C29.8807 25 31 23.8807 31 22.5C31 21.1193 29.8807 20 28.5 20C27.1193 20 26 21.1193 26 22.5C26 23.8807 27.1193 25 28.5 25ZM19 38C20.1046 38 21 37.1046 21 36C21 34.8954 20.1046 34 19 34C17.8954 34 17 34.8954 17 36C17 37.1046 17.8954 38 19 38Z" fill="currentColor"/>
                            <path d="M29.9313 7.00005C36.9583 9.45156 42 16.137 42 23.9999C42 29.5234 39.5122 34.4658 35.5959 37.7676L36.8537 39.3232C41.2227 35.6544 44 30.1515 44 23.9999C44 15.264 38.399 7.83624 30.5922 5.11182L29.9313 7.00005Z" fill="currentColor"/>
                            <path d="M27.3981 41.6797C26.2977 41.8899 25.1617 41.9999 24 41.9999C23.1292 41.9999 22.2728 41.9381 21.435 41.8186L21.1569 43.7994C22.0855 43.9316 23.0348 43.9999 24 43.9999C25.2839 43.9999 26.5395 43.879 27.7561 43.6478L27.3981 41.6797Z" fill="currentColor"/>
                            <path d="M6 23.9999C6 29.7774 8.72191 34.9191 12.9533 38.2126L11.7497 39.8103C7.03454 36.1516 4 30.4301 4 23.9999C4 15.264 9.601 7.83624 17.4078 5.11182L18.0687 7.00005C11.0417 9.45156 6 16.137 6 23.9999Z" fill="currentColor"/>
                            </svg>
                    </div>
                    <h3 class="font-semibold text-xl">Symptoms Discussed</h3>
                </div>
                <ul class="list-disc list-inside text-gray-700">
                    {% for symptom in latest_visit.symptoms %}
                        <li class="flex items-center">
                            <div class="w-7 h-7 text-blue-500 flex items-center justify-center mr-2">
                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#f34a12">
                                    <path d="M480-120q-33 0-56.5-23.5T400-200q0-33 23.5-56.5T480-280q33 0 56.5 23.5T560-200q0 33-23.5 56.5T480-120Zm-80-240v-480h160v480H400Z"/>
                                </svg>
                            </div>
                       
                               <span>{{ symptom }}</span>
                        </li>

                    {% endfor %}
                </ul>
            </div>
            <!-- Medication Changes -->
            <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
                <div class="flex items-center mb-4 bg-gradient-to-r from-blue-600 to-purple-600 p-1 rounded-xl shadow-lg text-white">
                    <div class="w-12 h-12 text-white-500 flex items-center justify-center mr-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
                            <path d="M37.0837 15.7351C37.6219 15.8589 38.1586 15.5229 38.2823 14.9846C38.4061 14.4464 38.07 13.9097 37.5318 13.786L30.9161 12.2651C30.3779 12.1413 29.8413 12.4773 29.7175 13.0156C29.5938 13.5538 29.9298 14.0905 30.468 14.2142L37.0837 15.7351Z" fill="currentColor"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M34 22C38.4183 22 42 18.4183 42 14C42 9.58172 38.4183 6 34 6C29.5817 6 26 9.58172 26 14C26 18.4183 29.5817 22 34 22ZM34 20C37.3137 20 40 17.3137 40 14C40 10.6863 37.3137 8 34 8C30.6863 8 28 10.6863 28 14C28 17.3137 30.6863 20 34 20Z" fill="currentColor"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M16.7782 9.24516C16.1307 7.71335 13.9653 7.55884 13.0955 8.98238L6.29281 20.1148C5.50809 21.399 6.38547 23.0385 7.9159 23.1477L19.7823 23.9944C21.3127 24.1036 22.4261 22.6062 21.842 21.2243L16.7782 9.24516ZM14.8106 10.013C14.8091 10.0148 14.8061 10.0186 14.8021 10.0252L8.01 21.1404L8.01156 21.1415C8.01351 21.1428 8.01659 21.1445 8.02192 21.1463C8.02695 21.1481 8.03827 21.1513 8.05824 21.1527L19.9246 21.9994C19.9446 22.0009 19.9568 21.9993 19.963 21.9981C19.9696 21.9969 19.9742 21.9952 19.9779 21.9934C19.9827 21.9912 19.9875 21.988 19.9918 21.9841L14.9361 10.0239C14.9342 10.0194 14.9326 10.0164 14.9316 10.0145C14.9257 10.0111 14.9077 10.0026 14.8779 10.0004C14.8449 9.99809 14.8228 10.0054 14.8156 10.0089L14.8132 10.0103L14.8121 10.0113L14.8106 10.013Z" fill="currentColor"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M35.3849 36.3592C38.3881 34.9588 39.6875 31.3889 38.287 28.3856C36.8866 25.3824 33.3167 24.0831 30.3135 25.4835L19.4378 30.5549C16.4345 31.9554 15.1352 35.5252 16.5356 38.5285C17.9361 41.5317 21.5059 42.8311 24.5092 41.4306L35.3849 36.3592ZM20.283 32.3675C18.2808 33.3012 17.4146 35.6811 18.3482 37.6832C19.2819 39.6854 21.6618 40.5516 23.664 39.618L28.13 37.5354L24.7494 30.2858L20.283 32.3675ZM29.9426 36.6902L26.5617 29.4397L31.1587 27.2961C33.1609 26.3625 35.5408 27.2287 36.4744 29.2309C37.408 31.233 36.5418 33.613 34.5396 34.5466L29.9426 36.6902Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <h3 class="font-semibold text-xl">Medication Changes</h3>
                </div>
                <ul class="space-y-2">
                    {% for medication in latest_visit.medications %}
                        <li class="flex items-center">
                            <div class="w-7 h-7 text-blue-500 flex items-center justify-center mr-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M24 21C27.5899 21 30.5 18.0899 30.5 14.5C30.5 10.9101 27.5899 8 24 8C20.4101 8 17.5 10.9101 17.5 14.5C17.5 18.0899 20.4101 21 24 21ZM24 23C28.6944 23 32.5 19.1944 32.5 14.5C32.5 9.80558 28.6944 6 24 6C19.3056 6 15.5 9.80558 15.5 14.5C15.5 19.1944 19.3056 23 24 23Z" fill="currentColor"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M24.3845 9.91006C24.9349 9.95616 25.3437 10.4397 25.2976 10.99L24.6955 18.1774C24.6494 18.7277 24.1659 19.1365 23.6155 19.0904C23.0652 19.0443 22.6564 18.5608 22.7025 18.0104L23.3046 10.8231C23.3507 10.2727 23.8342 9.86395 24.3845 9.91006Z" fill="currentColor"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 40C18.0899 40 21 37.0899 21 33.5C21 29.9101 18.0899 27 14.5 27C10.9101 27 8 29.9101 8 33.5C8 37.0899 10.9101 40 14.5 40ZM14.5 42C19.1944 42 23 38.1944 23 33.5C23 28.8056 19.1944 25 14.5 25C9.80558 25 6 28.8056 6 33.5C6 38.1944 9.80558 42 14.5 42Z" fill="currentColor"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.7571 36.7573C17.3666 37.1479 16.7335 37.1479 16.3429 36.7573L11.2429 31.6573C10.8524 31.2668 10.8524 30.6336 11.2429 30.2431C11.6335 29.8526 12.2666 29.8526 12.6571 30.2431L17.7571 35.3431C18.1477 35.7336 18.1477 36.3668 17.7571 36.7573Z" fill="currentColor"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M33.5 38C37.0899 38 40 35.0899 40 31.5C40 27.9101 37.0899 25 33.5 25C29.9101 25 27 27.9101 27 31.5C27 35.0899 29.9101 38 33.5 38ZM33.5 40C38.1944 40 42 36.1944 42 31.5C42 26.8056 38.1944 23 33.5 23C28.8056 23 25 26.8056 25 31.5C25 36.1944 28.8056 40 33.5 40Z" fill="currentColor"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M37.7588 29.745C37.9693 30.2556 37.7259 30.8401 37.2153 31.0506L30.5469 33.7987C30.0362 34.0091 29.4517 33.7658 29.2413 33.2551C29.0308 32.7445 29.2742 32.16 29.7848 31.9496L36.4532 29.2014C36.9639 28.991 37.5484 29.2344 37.7588 29.745Z" fill="currentColor"/>
                                    </svg>
                            </div>
                            <span>{{ medication.name }} - {{ medication.action }}</span>
                        </li>
                    {% endfor %}
                </ul>
            </div>
            <!-- Doctor's Notes -->
            <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
                <div class="flex items-center mb-4 bg-gradient-to-r from-blue-600 to-purple-600 p-1 rounded-xl shadow-lg text-white">
                    <div class="w-12 h-12  text-white-500 flex items-center justify-center mr-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M14.4326 33.4416C13.5732 33.9692 13 34.9177 13 36C13 37.6569 14.3431 39 16 39C17.6569 39 19 37.6569 19 36C19 34.476 17.8636 33.2174 16.3919 33.0254C16.3591 32.9079 16.3249 32.7725 16.2901 32.6206C16.1703 32.0972 16.056 31.4332 15.9709 30.7512C15.8856 30.0679 15.8327 29.3904 15.8292 28.8375C15.8279 28.6348 15.8334 28.4582 15.8446 28.3101C16.2293 28.1997 16.6151 28.1003 17 28.0126C17.4413 27.9121 17.7025 28.433 17.9141 28.8551C17.9436 28.9139 17.9721 28.9707 18 29.0237H22.0639C22.9797 29.0235 23.4324 29.0236 23.8903 29.0237C24.3376 29.0238 24.7906 29.0239 25.6851 29.0237H29.7493C29.9775 28.5902 30.4972 27.8981 31 28.0126C31.5363 28.1348 32.0745 28.2798 32.6089 28.4456L32.6056 28.4472C32.6044 28.4449 32.6045 28.4453 32.6057 28.4487C32.6104 28.4627 32.6324 28.5281 32.6542 28.6699C32.6791 28.8313 32.6964 29.0411 32.7035 29.2937C32.7177 29.798 32.6894 30.411 32.6297 31.0287C32.5699 31.6456 32.4811 32.2429 32.3811 32.7144C32.359 32.8188 32.3369 32.9141 32.3152 33H31C30.6212 33 30.275 33.214 30.1056 33.5528L29.1056 35.5528C29.0361 35.6916 29 35.8448 29 36V38C29 38.5523 29.4477 39 30 39H32V37H31V36.2361L31.618 35H34.382L35 36.2361V37H34V39H36C36.5523 39 37 38.5523 37 38V36C37 35.8448 36.9639 35.6916 36.8944 35.5528L35.8944 33.5528C35.725 33.214 35.3788 33 35 33H34.3643C34.4711 32.4673 34.56 31.8448 34.6203 31.2213C34.6856 30.5473 34.7198 29.8478 34.7027 29.2376L34.7019 29.2101C38.6895 30.8949 42 33.6661 42 36.5699V42H6V36.5699C6 33.5376 9.60993 30.6499 13.831 28.993C13.8424 29.6146 13.9013 30.3182 13.9862 30.9988C14.0779 31.7335 14.2029 32.4653 14.3406 33.0669C14.3701 33.1958 14.4008 33.3213 14.4326 33.4416ZM16 37.0147C16.5384 37.0147 17 36.5742 17 36C17 35.4258 16.5384 34.9853 16 34.9853C15.4616 34.9853 15 35.4258 15 36C15 36.5742 15.4616 37.0147 16 37.0147Z" fill="currentColor"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M24 24C28.4183 24 32 20.4183 32 16C32 11.5817 28.4183 8 24 8C19.5817 8 16 11.5817 16 16C16 20.4183 19.5817 24 24 24ZM24 26C29.5228 26 34 21.5228 34 16C34 10.4772 29.5228 6 24 6C18.4772 6 14 10.4772 14 16C14 21.5228 18.4772 26 24 26Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <h3 class="font-semibold text-xl">Doctor's Notes</h3>
                </div>
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#6b7280">
                    <path d="m499-287 335-335-52-52-335 335 52 52Zm-261 87q-100-5-149-42T40-349q0-65 53.5-105.5T242-503q39-3 58.5-12.5T320-542q0-26-29.5-39T193-600l7-80q103 8 151.5 41.5T400-542q0 53-38.5 83T248-423q-64 5-96 23.5T120-349q0 35 28 50.5t94 18.5l-4 80Zm280 7L353-358l382-382q20-20 47.5-20t47.5 20l70 70q20 20 20 47.5T900-575L518-193Zm-159 33q-17 4-30-9t-9-30l33-159 165 165-159 33Z"/>
                </svg>
                <p class="text-gray-700">{{ latest_visit.notes }}</p>
            </div>
        </div>
    {% else %}
        <div class="flex flex-col items-center justify-center py-12">
            <img src="https://healthicons.org/icons/no-data.svg" class="h-16 w-16 text-gray-400 mx-auto mb-4" alt="No Data Icon">
            <p class="text-gray-500 text-lg">No details available for the latest visit.</p>
        </div>
    {% endif %}
</div>

<!-- Follow-up Actions -->
<div class="bg-white p-6 rounded-xl shadow-lg mb-8">
    <div class="flex items-center mb-6 space-x-4 text-gray-500 text-lg font-semibold pb-4 border-b border-gray-200">
        <h2 class="text-2xl font-semibold mb-6 text-gray-500">Follow-up Actions</h2>
        <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#6b7280" class="text-gray-400 mx-auto mb-4 w-10 h-10">
            <path d="M240-400h80q0-59 43-99.5T466-540q36 0 67 16.5t51 43.5h-64v80h200v-200h-80v62q-32-38-76.5-60T466-620q-95 0-160.5 64T240-400ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/>
        </svg>
    </div>

    {% if follow_up_actions %}
        <div class="space-y-4">
            {% for action in follow_up_actions %}
                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg shadow-md">
                    <div class="flex items-center space-x-4">
                        <svg class="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-3-3v6m7-13H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2z" />
                        </svg>
                        <div>
                            <h4 class="font-semibold text-lg">{{ action.title }}</h4>
                            <p class="text-sm text-gray-600">{{ action.description }}</p>
                        </div>
                    </div>
                    <button class="bg-blue-600 text-white px-4 py-2 rounded-full text-sm hover:bg-blue-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-50">
                        {{ action.action_text }}
                    </button>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="flex flex-col items-center justify-center py-12">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-gray-400 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-3-3v6m7-13H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2z" />
            </svg>
            <p class="text-gray-500 text-lg">No follow-up actions available for this visit.</p>
        </div>
    {% endif %}
</div>

<script>
    // Add smooth scrolling and fade-in animations
    document.addEventListener('DOMContentLoaded', (event) => {
        const visitItems = document.querySelectorAll('.mb-8.flex');
        visitItems.forEach((item, index) => {
            item.style.opacity = '0';
            item.style.transform = 'translateY(20px)';
            setTimeout(() => {
                item.style.transition = 'opacity 0.5s ease-out, transform 0.5s ease-out';
                item.style.opacity = '1';
                item.style.transform = 'translateY(0)';
            }, index * 100);
        });
    });
</script>

{% endblock %}
